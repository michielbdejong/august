<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Meute - an unhosted messages/contacts/search app</title>
    <style>
      body { font:15px sans-serif; line-height:1.4em; color:#222 }
      nav {float:left; margin:3em}
      nav div { border-style:solid; border-radius:1em; margin: 1em; padding: 1em}
      nav div table tr td img { width:4em; height:4em; border-radius:1em }
      article table tr td img { width:3em; height:3em; border-radius:1em }
      article {float:left; margin-top:4em; padding:1em; border-style:solid; border-radius:1em}
    </style>
  </head>
  <body>
    <div class="box login">
      <p>Where should we store your data?</p>
      <ul>
        <li>remoteStorage</li>
        <li>GoogleDrive</li>
        <li>Dropbox</li>
      </p>
    </div>
    <div class="box login">
      <p>Add an IOU to this message!</p>
      <ul>
        <li>I spent some money for us</li>
        <li>I spent some money for you</li>
        <li>You spent some money</li>
        <li>Let's settle!</li>
      </p>
    </div>
    <div class="box login">
      <p>Let's tab it!</p>
      <ul>
        <li>Person who spent money: me/you/(addressbook)</li>
        <li>Amount: ... EUR/(...)</li>
        <li>Person(s) who it was for: [x] both of us, [x] just you, (more people...)</li>
        <li>Send!</li>
      </p>
    </div>
    <input style="float:right;margin-top:.75em;margin-right:15em" type="submit" value="load mock data" onmousedown="loadMockData();" />
    <nav>
      <div class="box composescreen addscreen">
        <h2 style="display:inline">Message to:</h2>
        <table id="toTable">
        </table>
        <input type="submit" value="+" onmousedown="addRecipient('to');" />
      </div>
      <div class="box composescreen addscreen">
        <h2 style="display:inline">Message cc:</h2>
        <table id="ccTable">
        </table>
        <input type="submit" value="+" onmousedown="addRecipient('cc');" />
      </div>
      <div class="box composescreen addscreen">
        <h2 style="display:inline">Message bcc:</h2>
        <table id="bccTable">
        </table>
        <input type="submit" value="+" onmousedown="addRecipient('bcc');" />
      </div>
      <div class="box mainscreen addscreen">
        <h2>Search:</h2>
        <input oninput="filterContacts(this.value);">
      </div>
      <div class="box mainscreen addscreen" >
        <h2>Contacts:</h2>
        <table id="contactsTable">
        </table>
      </div>
      <div class="box mainscreen addscreen" >
        <h2>Suggestions:</h2>
        <table id="suggestionsTable">
        </table>
      </div>
      <div class="box readscreen">
        <h2 style="display:inline">Message from:</h2>
        <table id="fromTable">
        </table>
      </div>
    </nav>
    <article class="box mainscreen" onmousedown="showBoxes('readscreen');">
      <h2>Parlays:</h2>
      <table id="messagesTable" border="1">
      </table>
    </article>
    <article class="box composescreen addscreen">
      <div>
        <input type="submit" value="back" onmousedown="showBoxes('mainscreen');">
        <input type="submit" value="preview" onmousedown="sendMsg(true);">
        <input type="submit" value="send" onmousedown="sendMsg();"> (first line is email subject)
      </div>
      <div>
        <textarea id="compose" style="width:100%;height:6em"></textarea>
      </div>
    </article>
    <article class="box readscreen" style="width:40em">
      <div>
        <input type="submit" value="back" onmousedown="showBoxes('mainscreen');">
        <input type="submit" value="reply" onmousedown="showBoxes('composescreen');">
      </div>
      <div>
        <p id="readp" style="width:100%;word-wrap:break-word">
        </p>
      </div>
    </article>
  </body>
  <script src="sockethub-client.js"></script>

  <!-- core -->
  <script src="lib/promising.js"></script>
  <script src="src/remotestorage.js"></script>
  <script src="src/eventhandling.js"></script>
  <script src="src/wireclient.js"></script>
  <script src="src/discover.js"></script>
  <script src="src/authorize.js"></script>
  <script src="src/access.js"></script>
  <script src="src/env.js"></script>

  <!-- widget -->
  <script src="src/i18n.js"></script>
  <script src="src/assets.js"></script>
  <script src="src/widget.js"></script>
  <script src="src/view.js"></script>
  
  <!-- baseclient -->
  <script src="lib/tv4.js"></script>
  <script src="lib/Math.uuid.js"></script>
  <script src="src/baseclient.js"></script>
  <script src="src/baseclient/types.js"></script>

  <!-- caching -->
  <script src="src/caching.js"></script>
  <script src="src/sync.js"></script>
  <script src="src/cachinglayer.js"></script>
  <script src="src/indexeddb.js"></script>
  <script src="src/localstorage.js"></script>
  <script src="src/inmemorystorage.js"></script>

  <!-- the rest: -->
  <script src="src/modules.js"></script>
  <script src="src/debug/inspect.js"></script>
  <script src="src/legacy.js"></script>
  <script src="src/googledrive.js"></script>
  <script src="src/dropbox.js"></script>
  <script>remoteStorage = new RemoteStorage();</script>


  <script src="remotestorage-modules/inbox.js"> </script>
  <script src="remotestorage-modules/email.js"> </script>
  <script src="remotestorage-modules/contacts.js"> </script>
  <script src="remotestorage-modules/money.js"> </script>
  <script src="remotestorage-modules/sockethub.js"> </script>
  <script src="remotestorage-modules/module-utils.js"> </script>
  <script src="irc.js"></script>
  <script src="app.js"> </script>
  <script src="messaging.js"> </script>
  <script src="expimp.js"> </script>
  <script>
/*    remoteStorage.email.getAll('', function(objects) {
      var str = '<table><tr><td>From</td><td>To</td><td>subject</td></tr>';
      for(var i=0; i<objects.length; i++) {
        str+='<tr><td>'+objects[i].actor[0].name ||objects[i].actor[0].address+'</td<td>'
          +objects[i].target.to[0].name ||objects[i].target.to[0].address+'</td<td>'
          +objects[i].object.subject+'</td</tr>';
      }
      document.body.innerHTML = str+'</table>';
    });
*/  </script>
</html>
